
<style>
    .my-drop-zone { border: dotted 3px lightgray; }
    /* Default class applied to drop zones on over */
    .nv-file-over { border: dotted 3px red; }
    .another-file-over-class { border: dotted 3px green; }
    html, body { height: 100%; }
    .previewIcon{
      width:100px;height:100px;
      background-size:cover;
      background-repeat:no-repeat;
    }
  </style>


<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <div class="panel panel-info">
                <div class="panel-heading">Drop files Here</div>
                <div class="panel-body">
                    <div >
                        <!--
                     ngfDrop
                        [ngClass]="{'nv-file-over': hasBaseDropZoneOver}"
                        (fileOver)="fileOverBase($event)"
                       
                        class="well my-drop-zone" -->

                        Base drop zone
                    </div>
                </div>
            </div>
            <div class="panel panel-info">
                    <div class="panel-heading">File Select Dialog</div>
                    <div class="panel-body">
                        Multiple
                        <input type="file"
                         ngfSelect 
                          multiple 
                          (filesChange)    = "filesChange($event)"
                         
                          /><br/>
                    </div>
                </div>
        </div> 
        <div class="col-md-9">
            <div class="panel panel-info">
                <div class="panel-heading">Files On Server</div>
                <div class="panel-body">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>
                                    id
                                </th>
                                <th>
                                    name
                                </th>
                                <th>
                                    type
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">
                                    1
                                </th>
                                <td>
                                    name
                                </td>
                                <td>
                                    type
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    2
                                </th>
                                <td>
                                    name
                                </td>
                                <td>
                                    type
                                </td>
                            </tr>
                            <tr>
                                <th scope="row">
                                    3
                                </th>
                                <td>
                                    name
                                </td>
                                <td>
                                    type
                                </td>
                            </tr>
                            <tr>
                                    <th scope="row">
                                        4
                                    </th>
                                    <td>
                                        name
                                    </td>
                                    <td>
                                        type
                                    </td>
                                </tr>
                                <tr>
                                        <th scope="row">
                                            5
                                        </th>
                                        <td>
                                            name
                                        </td>
                                        <td>
                                            type
                                        </td>
                                    </tr>                                






                        </tbody>  
                    </table>
                </div>
            </div>       
       </div> 
    </div>
    <div class="row">
     
        <div class="col-md-12" style="margin-bottom: 40px">
            <div class="panel panel-info">
                <div class="panel-heading">Upload queue</div>
                <div class="panel-body">
                    <p>Queue length: {{ files?.length }}</p>
                  
                    <table class="table">
                        <thead>
                        <tr>
                            <th width="50%">Name</th>
                            <th>Size</th>
                            <th>Progress</th>
                            <th>Status</th>
                            <th>Actions</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr *ngFor="let item of files">
                            <td>
                                <div *ngIf="['image/png','image/jpeg'].indexOf(item.type)>=0">
                                    <div class="previewIcon" [ngfBackground]="item"></div>
                                </div>
                                <strong> {{ item?.name }} </strong>
                            </td>
                            <td  nowrap>{{ item?.size/1024/1024 | number:'.2' }} MB</td>
                            <td >
                                <div class="progress" style="margin-bottom: 0;">
                                 <!--   <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div> -->
                                </div>
                            </td>
                            <td class="text-center">
                                <span ><i class="glyphicon glyphicon-ok"></i></span>
                                <span *ngIf="item.isCancel"><i class="glyphicon glyphicon-ban-circle"></i></span>
                                <span *ngIf="item.isError"><i class="glyphicon glyphicon-remove"></i></span>
                            </td>
                            <td nowrap>
                                <button type="button" class="btn btn-success btn-xs"  (click)="item.upload()" [disabled]="item.isReady || item.isUploading || item.isSuccess"> <span class="glyphicon glyphicon-upload"></span> Upload</button>
                                <button type="button" class="btn btn-warning btn-xs" (click)="item.cancel()" [disabled]="!item.isUploading"> <span class="glyphicon glyphicon-ban-circle"></span> Cancel </button>
                                <button type="button" class="btn btn-danger btn-xs"  (click)="item.remove()"> <span class="glyphicon glyphicon-trash"></span> Remove  </button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
              
                
                    <div>
                        <div>
                            Queue progress:
                            <div class="progress" style="">
                                <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': uploadProgress + '%' }"></div>
                            </div>
                        </div>
                        <button type="button" 
                        class="btn btn-success btn-s" 
                        (click)="uploadAll()" [disabled]="!files.length">
                         <span class="glyphicon glyphicon-upload"></span> Upload all </button>
<button type="button" 
class="btn btn-warning btn-s" 
(click)="cancelAll()" 
[disabled]="!files.length"> 
<span class="glyphicon glyphicon-ban-circle"></span> Cancel all </button>

<button type="button" 
class="btn btn-danger btn-s" 
(click)="clearQueue()" 
[disabled]="!files.length"> 
<span class="glyphicon glyphicon-trash"></span> Remove all</button>

               
                    </div>
                </div>
            </div>
        </div>
  </div>
</div>